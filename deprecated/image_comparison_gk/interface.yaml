- !Range1d: &f1_xrange
    ref: "f1_xrange"
    start: 0
    end: 10
    bounds: !!python/tuple [0, 10]
- !Range1d: &f1_yrange
    ref: "f1_yrange"
    start: -10
    end: 0
    bounds: !!python/tuple [-10, 0]
- !Range1d: &f2_xrange
    ref: "f2_xrange"
    start: 0
    end: 10
    bounds: !!python/tuple [0, 10]
- !Range1d: &f2_yrange
    ref: "f2_yrange"
    start: -10
    end: 0
    bounds: !!python/tuple [-10, 0]
- !TextInput: &url_input
    ref: "url_input"
    placeholder: "Enter an image url..."
    value: ""
- !Button: &url_button
    ref: "url_button"
    label: "Load image url"
    on_click: !self.from_url
- !Select: &image_select
    ref: "image_select"
    title: "Display default image"
    value: "Galaxy (z=2)"
    options: !self.image_options
    on_change: ['value', !self.from_default ]
- !row: &image_upload
    - !FileInput:
        ref: "image_upload"
        value: ""
    - !Button:
        label: "Upload..."
        on_click: !self.from_upload
- !ColumnDataSource: &dummy_source
    ref: "dummy_source"
    data:
        value: []
    on_change: ['data', !self.controller ]
- !CustomJS: &callback
    ref: "js_callback"
    args:
        source: *dummy_source
    code: "\n    source.data = { value: [cb_obj.value] }\n"
- !Slider: &ap_slider
    ref: "ap_slider"
    title: "Telescope Aperture (meters)"
    value: 12.
    range: !!python/tuple [ 2.0, 20.0, 1.0 ]
    tags: [4, 5, 6, 6]
    callback: *callback
- !Figure: &obs_figure
    ref: "obs_figure"
    x_range: *f1_xrange
    y_range: *f1_yrange
- !Figure: &hst_figure
    ref: "hst_figure"
    x_range: *f2_xrange
    y_range: *f2_yrange
- !Document:
    - !row:
        - !column:
            - *ap_slider
            - !row:
                - *url_input
                - *url_button
            - *image_select
            - *image_upload
        - !gridplot:
            children: [[ *obs_figure, *hst_figure ]]
    